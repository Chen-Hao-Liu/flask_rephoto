{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Edit "{{ post['title'] }}"{% endblock %}</h1>
{% endblock %}

{% set pic = post['imgFile'] %}

{% block content %}
<article>
 <div class="container">
  <div class="row">
   <div class="col-lg-8 col-md-10 mx-auto">
      <form method="post" enctype=multipart/form-data>
        <label for="title">Title</label>
        <br/>
        <input class="form-control" name="title" id="title" value="{{ request.form['title'] or post['title'] }}" required>
        <br/>
        <label for="body">Body</label>
        <br/>
        <textarea class="form-control" style="height: 200px;" name="body" id="body">{{ request.form['body'] or post['body'] }}</textarea>
        <hr>

        <body>
          <img src="/static/{{ post['imgFile'] }}" alt="Cover Image" width="{{ post['wd'] }}" height="{{ post['ht'] }}">
        </body>

        <h3>Change Cover Image</h3>
        <input type=file name=file>

        <input type="hidden" name="width" id="width" value="{{ post['wd'] }}">
        <input type="hidden" name="height" id="height" value="{{ post['ht'] }}">
        <input style="float: right;" type="submit" value="Save">
      </form>

      <hr>
        <a class="action" href="{{ url_for('blog.imageCapture', id=post['id']) }}">Image Capture</a>
      <hr>

      <form style="display: inline;" action="{{ url_for('blog.setMap', id=post['id']) }}" method="post">
        <input type="submit" value="View Map">
      </form>

      <form style="display: inline; float: right;" action="{{ url_for('blog.delete', id=post['id']) }}" method="post">
        <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
      </form>
    </div>
   </div>
 </div>
</article>
{% endblock %}